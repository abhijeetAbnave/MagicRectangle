[{"F:\\E\\Job Related\\Assignment\\magic-rectangle\\src\\index.js":"1","F:\\E\\Job Related\\Assignment\\magic-rectangle\\src\\App.js":"2","F:\\E\\Job Related\\Assignment\\magic-rectangle\\src\\reportWebVitals.js":"3","F:\\E\\Job Related\\Assignment\\Flytbase\\MagicRectangle\\src\\index.js":"4","F:\\E\\Job Related\\Assignment\\Flytbase\\MagicRectangle\\src\\reportWebVitals.js":"5","F:\\E\\Job Related\\Assignment\\Flytbase\\MagicRectangle\\src\\App.js":"6","F:\\E\\Job Related\\Assignment\\Flytbase\\MagicRectangle\\src\\routes.js":"7","F:\\E\\Job Related\\Assignment\\Flytbase\\MagicRectangle\\src\\components\\Elements\\MagicRectangleLoader.js":"8","F:\\E\\Job Related\\Assignment\\Flytbase\\MagicRectangle\\src\\components\\HomePage\\HomePage.js":"9"},{"size":500,"mtime":499162500000,"results":"10","hashOfConfig":"11"},{"size":528,"mtime":499162500000,"results":"12","hashOfConfig":"11"},{"size":362,"mtime":499162500000,"results":"13","hashOfConfig":"11"},{"size":598,"mtime":1612421342431,"results":"14","hashOfConfig":"15"},{"size":362,"mtime":499162500000,"results":"16","hashOfConfig":"15"},{"size":375,"mtime":1612401258059,"results":"17","hashOfConfig":"15"},{"size":799,"mtime":1612401271294,"results":"18","hashOfConfig":"15"},{"size":412,"mtime":1612300017765,"results":"19","hashOfConfig":"15"},{"size":11576,"mtime":1612533353482,"results":"20","hashOfConfig":"15"},{"filePath":"21","messages":"22","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"17d1ecl",{"filePath":"23","messages":"24","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"25","messages":"26","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"29"},"1ryltri",{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"29"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"34","usedDeprecatedRules":"29"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"37","usedDeprecatedRules":"29"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"29"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":14,"fixableErrorCount":0,"fixableWarningCount":0,"source":"42"},"F:\\E\\Job Related\\Assignment\\magic-rectangle\\src\\index.js",[],"F:\\E\\Job Related\\Assignment\\magic-rectangle\\src\\App.js",[],"F:\\E\\Job Related\\Assignment\\magic-rectangle\\src\\reportWebVitals.js",[],"F:\\E\\Job Related\\Assignment\\Flytbase\\MagicRectangle\\src\\index.js",[],["43","44"],"F:\\E\\Job Related\\Assignment\\Flytbase\\MagicRectangle\\src\\reportWebVitals.js",[],"F:\\E\\Job Related\\Assignment\\Flytbase\\MagicRectangle\\src\\App.js",["45"],"import logo from './assets/images/logo.svg';\nimport './assets/css/main.css';\nimport Routes from \"./routes\";\nimport { BrowserRouter } from \"react-router-dom\";\n\nfunction App() {\n  return (\n    <BrowserRouter>\n    <div className=\"App\">\n      <header className=\"App-header\">\n          <Routes />\n      </header>\n    </div>\n      </BrowserRouter>\n    \n  );\n}\n\nexport default App;\n","F:\\E\\Job Related\\Assignment\\Flytbase\\MagicRectangle\\src\\routes.js",["46","47"],"import React, { Fragment, Suspense } from \"react\";\r\nimport { GuardProvider, GuardedRoute } from \"react-router-guards\";\r\nimport { Switch } from \"react-router-dom\";\r\nimport MagicRectangleLoader from \"./components/Elements/MagicRectangleLoader\";\r\nimport HomePage from \"./components/HomePage/HomePage\";\r\n\r\nexport default () => {\r\n    return (\r\n        <GuardProvider loading={() => <MagicRectangleLoader />}>\r\n            <Suspense fallback={<div><p>Npt wprla</p></div>}>\r\n                <Switch>\r\n                    <GuardedRoute\r\n                        path=\"/\"\r\n                        exact\r\n                        component={HomePage}\r\n                        meta={{ guest: true }}\r\n                    />\r\n                </Switch>\r\n            </Suspense>\r\n        </GuardProvider>\r\n    )\r\n}","F:\\E\\Job Related\\Assignment\\Flytbase\\MagicRectangle\\src\\components\\Elements\\MagicRectangleLoader.js",[],"F:\\E\\Job Related\\Assignment\\Flytbase\\MagicRectangle\\src\\components\\HomePage\\HomePage.js",["48","49","50","51","52","53","54","55","56","57","58","59","60","61"],"import React, { Fragment } from \"react\";\r\nimport logo from \"../../assets/images/logo.svg\";\r\nimport { Button, Col, Row } from \"react-bootstrap\";\r\n\r\nclass HomePage extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.canvasArea = React.createRef();\r\n  }\r\n  state = {\r\n    cx: [], //square co-ordinate x\r\n    cy: [], //square co-ordinate y\r\n    pointsArray: [],\r\n    selectedIndex: null, //selected index of square\r\n    isKeyboardOn: true,\r\n  };\r\n  stage = null; //DOM element\r\n  ctx = null; //getContext element of canvas\r\n  canvasWidth = 0;\r\n  canvasHeight = 0;\r\n  constantBoundryGap = 40; //Perimeter gap\r\n  sideOfSquare = 40; //side of square\r\n\r\n  componentDidMount() {\r\n    this.stage = this.canvasArea.current;\r\n    this.ctx = this.stage.getContext(\"2d\"); // Canvas 2d rendering context\r\n    this.canvasWidth = this.stage.width;\r\n    this.canvasHeight = this.stage.height;\r\n    this.state.cx[0] = this.randomNumber(\r\n      0,\r\n      Math.floor(this.canvasWidth - this.constantBoundryGap)\r\n    ); // Setting initial values\r\n    this.state.cy[0] = this.randomNumber(\r\n      0,\r\n      Math.floor(this.canvasHeight - this.constantBoundryGap)\r\n    );\r\n    this.state.pointsArray[0] = { x: this.state.cx[0], y: this.state.cy[0] }\r\n    this.drawSquare(this.state.cx[0], this.state.cy[0], this.ctx, 1, 0);\r\n    document.addEventListener(\"keydown\", (event) =>\r\n      this.keyboardEventFunction(event)\r\n    );\r\n  }\r\n\r\n  keyboardEventFunction = (event) => {\r\n    if (this.state.selectedIndex !== null && this.state.isKeyboardOn)\r\n      this.handleKeyDown(event);\r\n  };\r\n\r\n  drawSquare = (x, y, ctx, opacity, index=3) => {\r\n    // ctx.fillStyle = '#FF8010'; // Fill color of rectangle drawn\r\n    ctx.globalCompositeOperation = \"source-over\";\r\n    ctx.fillStyle = `rgba(${231 - (1 / opacity) * 7}, ${\r\n      66 + (1 / opacity) * 6\r\n    }, ${41 + (1 / opacity) * 3}, ${\r\n      isFinite(opacity) ? (opacity === 1 ? 0.9 : 1 / (1 - opacity)) : 0.9\r\n    })`; // Fill color of rectangle drawn\r\n    \r\n    ctx.strokeStyle = \"black\";\r\n    ctx.lineWidth = \"2\";\r\n    ctx.fillRect(x, y, this.sideOfSquare, this.sideOfSquare); //This will draw a rectangle of 20x20\r\n    ctx.strokeRect(x, y, this.sideOfSquare, this.sideOfSquare);\r\n    ctx.fillStyle = \"black\"\r\n    ctx.font = \"10px sans-serif\";\r\n    ctx.fillText(\"ID:\"+index, x+10,y+24);\r\n  };\r\n\r\n  selectedSquare = (x, y, ctx, opacity, index) => {\r\n    ctx.globalCompositeOperation = \"source-over\";\r\n    ctx.fillStyle = `rgba(0, 0, 0, ${\r\n      isFinite(opacity) ? (opacity === 1 ? 0.9 : 1 / (1 - opacity)) : 0.9\r\n    })`; // Fill color of rectangle drawn\r\n    ctx.fillRect(x, y, this.sideOfSquare, this.sideOfSquare); //This will draw a rectangle of 20x20\r\n    ctx.fillStyle = \"white\"\r\n    ctx.font = \"10px sans-serif\";\r\n    ctx.fillText(\"ID:\"+index, x+10,y+24);\r\n  };\r\n\r\n  randomNumber = (min, max) => {\r\n    return Math.floor(Math.random() * (max - min) + min);\r\n  };\r\n\r\n  onAdd = () => {\r\n    let index = this.state.cx.length;\r\n    this.state.cx[index] = this.randomNumber(\r\n      0,\r\n      Math.floor(this.canvasWidth - this.constantBoundryGap)\r\n    );\r\n    this.state.cy[index] = this.randomNumber(\r\n      0,\r\n      Math.floor(this.canvasHeight - this.constantBoundryGap)\r\n    );\r\n    this.state.pointsArray[index] = { x: this.state.cx[index], y: this.state.cy[index] }\r\n    this.drawSquareWithSelected();\r\n    // this.drawSquare(this.state.cx[index], this.state.cy[index], this.ctx, 1 / index);\r\n  };\r\n\r\n  onDelete = () => {\r\n    this.deleteSquare(this.state.selectedIndex);\r\n  };\r\n\r\n  canvasClick = (e) => {\r\n    let rect = this.stage.getBoundingClientRect();\r\n    console.log(\r\n      \"canvas click \",\r\n      e.clientX - rect.left,\r\n      \" y \",\r\n      e.clientY - rect.top\r\n    );\r\n    console.log(\"canvas click \", e);\r\n    console.log(\"canvas click \", this.state.cx[0], \" y \", this.state.cy[0]);\r\n  };\r\n\r\n  relMouseCoords(event) {\r\n    var totalOffsetX = 0;\r\n    var totalOffsetY = 0;\r\n    var canvasX = 0;\r\n    var canvasY = 0;\r\n    var currentElement = this.stage;\r\n\r\n    do {\r\n      totalOffsetX += currentElement.offsetLeft - currentElement.scrollLeft;\r\n      totalOffsetY += currentElement.offsetTop - currentElement.scrollTop;\r\n    } while ((currentElement = currentElement.offsetParent));\r\n\r\n    canvasX = event.pageX - totalOffsetX;\r\n    canvasY = event.pageY - totalOffsetY;\r\n    console.log(\"XX \", canvasX, \"YY\", canvasY);\r\n    this.showSelectedSquare(canvasX, canvasY);\r\n  }\r\n\r\n  showSelectedSquare = (canvasX, canvasY) => {\r\n    let isSelected = false;\r\n    let position = this.state.pointsArray.slice().reverse().findIndex((point) => this.isPointInsideOfSquare(\r\n      canvasX,\r\n      canvasY,\r\n      point.x,\r\n      point.y\r\n    ))\r\n    var indexSelected = position >= 0 ? (this.state.cx.length - 1) - position : position;\r\n    this.ctx.clearRect(0, 0, 800, 400);\r\n    for (let index = 0; index < this.state.cx.length; index++) {\r\n      if (\r\n        indexSelected !== -1 && \r\n        indexSelected === index &&         \r\n        !isSelected\r\n      ) {\r\n        isSelected = true;\r\n        console.log(\"selected \", index);\r\n        this.setState({ selectedIndex: index });\r\n        this.selectedSquare(\r\n          this.state.cx[index],\r\n          this.state.cy[index],\r\n          this.ctx,\r\n          1 / index,\r\n          index\r\n        );\r\n      } else {\r\n        this.drawSquare(\r\n          this.state.cx[index],\r\n          this.state.cy[index],\r\n          this.ctx,\r\n          1 / index,\r\n          index\r\n        );\r\n      }\r\n    }\r\n    if (!isSelected) {\r\n      this.setState({ selectedIndex: null });\r\n    }\r\n  };\r\n\r\n  isPointInsideOfSquare = (canvasX, canvasY, squareX, squareY) => {\r\n    if (\r\n      canvasX >= squareX &&\r\n      canvasX <= squareX + this.sideOfSquare &&\r\n      canvasY >= squareY &&\r\n      canvasY <= squareY + this.sideOfSquare\r\n    )\r\n      return true;\r\n    else return false;\r\n  };\r\n\r\n  deleteSquare = (index) => {\r\n    if (index != null) {\r\n      this.state.cx.splice(index, 1);\r\n      this.state.cy.splice(index, 1);\r\n      this.state.pointsArray.splice(index, 1);\r\n      this.state.selectedIndex = null;\r\n      // this.setState({ selectedIndex: null });\r\n      this.ctx.clearRect(0, 0, 800, 400);\r\n      this.drawSquareWithSelected();\r\n    }\r\n  };\r\n\r\n  drawSquareWithSelected = () => {\r\n    for (let index = 0; index < this.state.cx.length; index++) {\r\n      if (this.state.selectedIndex == index) {\r\n        this.selectedSquare(\r\n          this.state.cx[index],\r\n          this.state.cy[index],\r\n          this.ctx,\r\n          1 / index,\r\n          index\r\n        );\r\n      } else {\r\n        // this.ctx.clearRect(0,0, 800, 400);\r\n        this.drawSquare(\r\n          this.state.cx[index],\r\n          this.state.cy[index],\r\n          this.ctx,\r\n          1 / index,\r\n          index\r\n        );\r\n      }\r\n    }\r\n  };\r\n\r\n  handleKeyDown = (event) => {\r\n    console.log(\"handleKeyDown\");\r\n    let keyPr = event.keyCode; //Key code of key pressed\r\n    if (keyPr === 46) {\r\n      this.onDelete();\r\n      return;\r\n    }\r\n    if (keyPr === 68 && this.state.cx[this.state.selectedIndex] <= 740) {\r\n      this.state.cx[this.state.selectedIndex] += 20; //D key add 20\r\n    } else if (keyPr === 65 && this.state.cx[this.state.selectedIndex] > 10) {\r\n      this.state.cx[this.state.selectedIndex] -= 20; //A key subtract 20\r\n    } else if (keyPr === 87 && this.state.cy[this.state.selectedIndex] > 10) {\r\n      this.state.cy[this.state.selectedIndex] -= 20; //W key subtract 20\r\n    } else if (keyPr === 83 && this.state.cy[this.state.selectedIndex] <= 350) {\r\n      this.state.cy[this.state.selectedIndex] += 20; //S key add 20\r\n    }\r\n\r\n    // clearing anything drawn on canvas\r\n    this.ctx.clearRect(0, 0, 800, 400);\r\n\r\n    //Drawing rectangle at new position\r\n    this.drawSquareWithSelected();\r\n  };\r\n\r\n  toggleKeyboard = async () => {\r\n    await this.setState({ isKeyboardOn: !this.state.isKeyboardOn });\r\n    if (this.state.isKeyboardOn) {\r\n      await document.addEventListener(\"keydown\", (event) =>\r\n        this.keyboardEventFunction(event)\r\n      );\r\n    } else {\r\n      await document.removeEventListener(\r\n        \"keydown\",\r\n        (event) => this.keyboardEventFunction(event),\r\n        true\r\n      );\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Fragment>\r\n        <div id=\"magic-rectangle\">\r\n          <canvas\r\n            onClick={(e) => this.relMouseCoords(e)}\r\n            width=\"800\"\r\n            height=\"400\"\r\n            id=\"svs\"\r\n            ref={this.canvasArea}\r\n            className=\"canvas\"\r\n          ></canvas>\r\n          {/* <div className=\"row\">\r\n            <div className=\"col-12\"> */}\r\n          <Row className=\"info\">\r\n            <Col md={1}></Col>\r\n            <Col md={4}>\r\n              <Row>\r\n                <Col md={12}>\r\n                  <button\r\n                    onClick={() => this.onAdd()}\r\n                    className=\"button button-add\"\r\n                  >\r\n                    Add\r\n                  </button>\r\n                  <button\r\n                    onClick={() => this.onDelete()}\r\n                    className=\"button button-delete\"\r\n                  >\r\n                    Delete\r\n                  </button>\r\n                </Col>\r\n                <Col md={12}>\r\n                  <button\r\n                    onClick={() => this.toggleKeyboard()}\r\n                    className=\"button button-toggle\"\r\n                  >\r\n                    Keyboard Control {this.state.isKeyboardOn ? \"On\" : \"Off\"}\r\n                  </button>\r\n                </Col>\r\n              </Row>\r\n            </Col>\r\n            <Col md={5}>\r\n              <Row>\r\n                <Col md={12}>\r\n                  <div className=\"button-lable\">\r\n                    Use Keyboard to move rectangle\r\n                  </div>\r\n                  <br />\r\n                  <Row className=\"\">\r\n                    <Col md={6}>\r\n                      <Row>\r\n                        <Col md={6}>\r\n                          <button className=\"button-arrows-main-vertical button-arrows\">\r\n                            &uarr;\r\n                          </button>{\" \"}\r\n                          <p className=\"button-lable\">Press W</p>\r\n                        </Col>\r\n                        <Col md={6}>\r\n                          <button className=\"button-arrows-main-vertical button-arrows\">\r\n                            &darr;\r\n                          </button>{\" \"}\r\n                          <p className=\"button-lable\">Press S</p>\r\n                        </Col>\r\n                      </Row>\r\n                    </Col>\r\n                    <Col md={6}>\r\n                      <Row>\r\n                        <Col md={6}>\r\n                          <button className=\"button-arrows-main-horizontal button-arrows\">\r\n                            &larr;\r\n                          </button>{\" \"}\r\n                          <p className=\"button-lable\">Press A</p>\r\n                        </Col>\r\n                        <Col md={6}>\r\n                          <button className=\"button-arrows-main-horizontal button-arrows\">\r\n                            &rarr;\r\n                          </button>{\" \"}\r\n                          <p className=\"button-lable\">Press D</p>\r\n                        </Col>\r\n                      </Row>\r\n                    </Col>\r\n                  </Row>\r\n                </Col>\r\n              </Row>\r\n            </Col>\r\n            <Col md={1}></Col>\r\n          </Row>\r\n        </div>\r\n        {/* </div>\r\n        </div> */}\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default HomePage;\r\n",{"ruleId":"62","replacedBy":"63"},{"ruleId":"64","replacedBy":"65"},{"ruleId":"66","severity":1,"message":"67","line":1,"column":8,"nodeType":"68","messageId":"69","endLine":1,"endColumn":12},{"ruleId":"66","severity":1,"message":"70","line":1,"column":17,"nodeType":"68","messageId":"69","endLine":1,"endColumn":25},{"ruleId":"71","severity":1,"message":"72","line":7,"column":1,"nodeType":"73","endLine":22,"endColumn":2},{"ruleId":"66","severity":1,"message":"67","line":2,"column":8,"nodeType":"68","messageId":"69","endLine":2,"endColumn":12},{"ruleId":"66","severity":1,"message":"74","line":3,"column":10,"nodeType":"68","messageId":"69","endLine":3,"endColumn":16},{"ruleId":"75","severity":1,"message":"76","line":30,"column":5,"nodeType":"77","endLine":30,"endColumn":18},{"ruleId":"75","severity":1,"message":"76","line":34,"column":5,"nodeType":"77","endLine":34,"endColumn":18},{"ruleId":"75","severity":1,"message":"76","line":38,"column":5,"nodeType":"77","endLine":38,"endColumn":27},{"ruleId":"75","severity":1,"message":"76","line":85,"column":5,"nodeType":"77","endLine":85,"endColumn":18},{"ruleId":"75","severity":1,"message":"76","line":89,"column":5,"nodeType":"77","endLine":89,"endColumn":18},{"ruleId":"75","severity":1,"message":"76","line":93,"column":5,"nodeType":"77","endLine":93,"endColumn":27},{"ruleId":"75","severity":1,"message":"76","line":189,"column":7,"nodeType":"77","endLine":189,"endColumn":17},{"ruleId":"78","severity":1,"message":"79","line":198,"column":36,"nodeType":"80","messageId":"81","endLine":198,"endColumn":38},{"ruleId":"75","severity":1,"message":"76","line":227,"column":7,"nodeType":"77","endLine":227,"endColumn":20},{"ruleId":"75","severity":1,"message":"76","line":229,"column":7,"nodeType":"77","endLine":229,"endColumn":20},{"ruleId":"75","severity":1,"message":"76","line":231,"column":7,"nodeType":"77","endLine":231,"endColumn":20},{"ruleId":"75","severity":1,"message":"76","line":233,"column":7,"nodeType":"77","endLine":233,"endColumn":20},"no-native-reassign",["82"],"no-negated-in-lhs",["83"],"no-unused-vars","'logo' is defined but never used.","Identifier","unusedVar","'Fragment' is defined but never used.","import/no-anonymous-default-export","Assign arrow function to a variable before exporting as module default","ExportDefaultDeclaration","'Button' is defined but never used.","react/no-direct-mutation-state","Do not mutate state directly. Use setState().","MemberExpression","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","no-global-assign","no-unsafe-negation"]